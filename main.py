from flask import Flask, jsonify, request
from flask_cors import CORS

app = Flask(__name__)
CORS(app)


@app.route('/api/send_data', methods=['POST'])
def send_data_ru():
    data = request.get_json()
    print(data)

    if not data or not data.get("email") or not data.get("phone"):
        response_message = (
            "–≠–π, –∞ —Ç—ã —á—Ç–æ, —à—É—Ç–∏—à—å?! üò°\n"
            "–¢—ã –º–Ω–µ –¥–∞–∂–µ —Å–≤–æ–π Email –∏ –¢–µ–ª–µ—Ñ–æ–Ω –Ω–µ –ø—Ä–∏—Å–ª–∞–ª? ü§®\n"
            "–ù—É –∫–∞–∫ —è —Ç–µ–±–µ –Ω–∞–ø–∏—à—É, –µ—Å–ª–∏ —Ç—ã —Å–∫—Ä—ã–≤–∞–µ—à—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ?! üßê\n"
            "–ë–µ–∑ –¥–∞–Ω–Ω—ã—Ö —Ç—ã ‚Äî –∫–∞–∫ –ø—Ä–∏–∑—Ä–∞–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ! üëª\n"
            "–û—Ç–ø—Ä–∞–≤—å –º–Ω–µ —Ö–æ—Ç—å —á—Ç–æ-–Ω–∏–±—É–¥—å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞! üôè"
        )
    else:
        # –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω—ã
        email = data.get("email", "–ù–µ —É–∫–∞–∑–∞–Ω")
        phone = data.get("phone", "–ù–µ —É–∫–∞–∑–∞–Ω")
        response_message = (
            f"–û–≥–æ, –ø—Ä–∏–≤–µ—Ç! üòé\n"
            f"–Ø —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø–æ–ª—É—á–∏–ª –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–≤—è–∑–∏! üì±üíª\n"
            f"–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –ø–æ—á—Ç–æ–≤—ã–π –≥–æ–ª—É–±—å üïäÔ∏è, —è –∏–º–µ—é –≤ –≤–∏–¥—É –≤–∞—à Email: {email}, "
            f"–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π —Å–∏–≥–Ω–∞–ª —Å –¥—Ä—É–≥–æ–π –ø–ª–∞–Ω–µ—Ç—ã üåå, —Ç–æ –µ—Å—Ç—å –≤–∞—à –¢–µ–ª–µ—Ñ–æ–Ω: {phone}!\n"
            f"–ë—É–¥–µ–º –Ω–∞ —Å–≤—è–∑–∏, —Ç–æ–ª—å–∫–æ –Ω–µ –∑–∞–±–ª—É–¥–∏—Ç–µ—Å—å –≤ –ª–∞–±–∏—Ä–∏–Ω—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞! üòÑ"
        )

    return jsonify({"message": response_message})


if __name__ == '__main__':
    app.run(debug=True, host='0.0.0.0', port=5000)